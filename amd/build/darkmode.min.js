define("theme_bambuco/darkmode",["exports","core/log","core/ajax"],(function(_exports,_log,_ajax){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Manage the dark mode.
   *
   * @module     theme_bambuco/darkmode
   * @copyright  2025 David Herney @ BambuCo
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.setThemeMode=void 0,_log=_interopRequireDefault(_log),_ajax=_interopRequireDefault(_ajax);_exports.setThemeMode=stylesheets=>{const toggleTheme=document.getElementById("theme-darkmode");toggleTheme&&toggleTheme.addEventListener("change",(function(){this.checked?(document.body.classList.remove("lightmode"),document.body.classList.add("darkmode"),addOrRemoveStylesheet(stylesheets,"dark"),saveThemeMode("dark")):(document.body.classList.remove("darkmode"),document.body.classList.add("lightmode"),addOrRemoveStylesheet(stylesheets,"light"),saveThemeMode("light"))}))};const addOrRemoveStylesheet=(stylesheets,mode)=>{stylesheets.forEach((stylesheet=>{var link;stylesheet.url&&(stylesheet.mode===mode?((link=document.createElement("link")).rel="stylesheet",link.href=stylesheet.url,link.type="text/css",document.head.appendChild(link)):(link=document.querySelector('link[href="'.concat(stylesheet.url,'"]')))&&link.remove())}))},saveThemeMode=mode=>{_ajax.default.call([{methodname:"theme_bambuco_set_mode",args:{mode:mode},fail:function(e){_log.default.debug(e)}}])}}));

//# sourceMappingURL=darkmode.min.js.map